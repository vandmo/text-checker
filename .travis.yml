language: java
before_install:
- openssl aes-256-cbc -K $encrypted_408b1194d341_key -iv $encrypted_408b1194d341_iv
  -in deployment/signingkey.asc.enc -out deployment/signingkey.asc -d
install: true
script: mvn clean verify --define gpg.skip
after_success:
- mvn versions:set --newVersion=${TRAVIS_TAG}
- gpg2 --keyring=$TRAVIS_BUILD_DIR/pubring.gpg --no-default-keyring --import deployment/signingkey.asc
- gpg2 --allow-secret-key-import --keyring=$TRAVIS_BUILD_DIR/secring.gpg --no-default-keyring
  --import deployment/signingkey.asc
- mvn clean deploy --settings deployment/settings.xml -Dgpg.executable=gpg2 -Dgpg.keyname=7895D51A5DEC8C90C52DB100DD089CDA357F46E9
  -Dgpg.passphrase=$PASSPHRASE -Dgpg.publicKeyring=$TRAVIS_BUILD_DIR/pubring.gpg -Dgpg.secretKeyring=$TRAVIS_BUILD_DIR/secring.gpg
env:
  global:
  - secure: MlFXWDA7BP1H0qexUB7nFp4GPCYoWYGzzFYrUOplkI4IUtVAajbYM/msTrVXfp7/c9rAercvao7y3DE1IEgxwkHwLplXqcYy7UG1P0hhzgfKj+1GFwR6xncBlTDg7DIH8Q4jStf8b80yuqEGPe/sDo41e9TpbuP2Y1HEY6jBG0tikodFUvvAzCMSpwCln2L/c2oZEXABiZF6txLOa6kZJJN02FiNYG0+8akQu7UyJy1eRDbBAlPU9+ifXQ1oAD+TD5cVQahponY6zndkr3a6r3PSesMqFNNlfXmvIcdkFM6WE8CwrGxd06V6j5XtBk+fbc9xMZoBS4bJb0lTP2mz6sjikvzCmVfQkUHvuqfLL3RA4LT9/m0nR2hl3XZc0kM1hjgaTlNJy9zPEYnr7ATD7jHq3t6392wF9INnY5hrMAyxaJhqhM1J8gHBfFsIQwJpE8hxz96Gj+nsjzrVW9kG2CihCqW1aru8KIZumO3I8QhneeSFjXsVNRUQTHX04EAiqGcs/qmUpiYIHo4aGIcr5N/Mf6GDZvRoAjmzoIApX7x+yJ55h8ihcDz56slozrs2L3hDF1rFyT4kUAKduyfTDmMYilqhvR5wy0uukrQUoZ9kBdW7oPLH/WqWFzJO2LcN3S+kWSznh5Kdy07f3XJbYwtJefXafdORmR2r7yuuJ/4=
  - secure: Lc9Xy/KeXnlSMIM1c0uFjEm9+BKXBUSYqFK+3EOqrNmtiaYGzYBKZCl5sBirdNFX16P+OvowSHRWwAEDjQsrS1S/lKuFpBJCm8GER/Wqi4XOY7GBCxwl+6lV6Qwhj3PRVzPmuZQq9rUY0yt/F8IuiMFx+ICCjwE0jUNySLKcMEwDJApvwmYkkCY1JqPPaEM8Rb1B8Xr1ZupqQFAmz3pC2NSllYE8ao/Qu8TmxsXXsHlwRaC1AE4Um3rrZLxZtxSDp4IJBsks8U7/oXhlZM9KsJZTm7O5+2hnwhoFoy6qS+R/xDA0696t61YnXxnALa5gKB4YoIPjknICtnZXnQlAmOQOgPZ8F0SF1a4HcLCpdjmya4xrxAX47UdlxPMKkSO9ZOIokEl1dSqWId6UXJrlMY74nuXOGQcrIj+SEcsTit8psWZjc1vnTSFGltdoFscHNzUMrxe0n8UwOtybT1TFUJqvEeWf45HM7ckG1yo8p4DAsVBomI8XMoEbNdv1MhSjFPHUczCVOlae9+9Cmh9ECmhnsAlCGSHYFs/tJDhVyYUtHGdxa2xgArbJs4dD7ATq9PEbtxnwrDLJcCpd+pesVWe/7QFwad8QbRAm8fclSvYPs6i3gzhuyw2F+pJutzY/E/lM9rb7zNhFYqkh5qMfBW2ESJVwJ2FoqRgAy60m8w4=
  - secure: PXewbpOLsMA5yPyVHe2MRoRIk7dybhIagkzdgrmgBms716RriqRHh+GwjnCEvu4rXSpX0K0X/L0+6iznkZUuI3/7gWBEs2KZ0HxrgP6KEbb8E9czqUl0a4oiRvgVwsPnnDSE77jd03VNZp4hjBQnzvkZcZR9mqYVT3m4sSqhSGa6Uiu1OtPWez7I0FQjFVy6E6sAcJvgbfFVywmL4IOIYFVuTEFntXtdtOpuIA4p6HPMJRXdrjcJzEjiw2znNoEBiJDIV5rGFioFH/KVHYc4ZzjAybTH3aoMyZn/UvnmEYUKPqCK/jPzAF1vrL2cISeQBwcExOou83x7deEK2moZ45UwF0zaslYcnifS5thG0Qa4QhqkBP2Ev4MJKKxOHfECp0qYyH4wlJ9H7htE6x2zQGyARxg/7FL2elp5g5j+zHEsmX7bCQIYhuQnssTdc21PmS9sVqaP4SUXjHV8zXVIYR2MAJVOUkLPXY4uim9P8qQxiQTuiJzS3zsgKx/So5hRD5COsG1oEpeZk330qYIiMATyH9owDlm6KXaIjltCu2Y9/GKUmvtHAfeB3SnLHdCfkoOoTfGBr+XKFtkGHvB6KyO6Dgdq2yQhWiTyEDBrMd7qWCERd+KUR6uAedkXsj+B2eQNJn9rugqe64F2yWSoyAGqGfe50lW+d659G/ZWoSY=
